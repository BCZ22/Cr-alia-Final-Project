# Configuration de l'API Medium - PRODUCTION
# Copiez ce fichier vers .env et remplissez les valeurs

# =============================================================================
# CONFIGURATION GÉNÉRALE
# =============================================================================
NODE_ENV=production
PORT=3000
MEDIUM_API_PORT=3001

# =============================================================================
# BASE DE DONNÉES
# =============================================================================
# URL de connexion à la base de données PostgreSQL
DATABASE_URL="postgresql://prod_user:SECURE_PASSWORD@your-db-host:5432/saas_production"

# =============================================================================
# CHIFFREMENT
# =============================================================================
# Clé de chiffrement pour les tokens Medium (32 caractères minimum)
# GÉNÉRÉE AUTOMATIQUEMENT - NE PAS MODIFIER
ENCRYPTION_KEY=6b29abb8e49d1625dea1e738e425a4678d7649f244725f31602fb553e7d141b0

# =============================================================================
# API MEDIUM
# =============================================================================
# Client ID de votre application Medium
MEDIUM_CLIENT_ID="your_real_medium_client_id"

# Client Secret de votre application Medium
MEDIUM_CLIENT_SECRET="your_real_medium_client_secret"

# URL de redirection OAuth (doit correspondre à celle configurée dans Medium)
MEDIUM_REDIRECT_URI="https://yourdomain.com/api/medium/callback"

# =============================================================================
# SÉCURITÉ
# =============================================================================
# Clé secrète JWT (générée automatiquement - NE PAS MODIFIER)
JWT_SECRET=51d58261a5a09f9a2e94b143d41b66bbd00117ab4779a05595b06f09daab7a93a6416a3c12134d82b9e9af71259e08bd459f80d372769b71ad8b6d9a16af380f

# Durée de vie du token JWT (en secondes)
JWT_EXPIRES_IN=86400

# Origines autorisées pour CORS (séparées par des virgules)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# RATE LIMITING
# =============================================================================
# Limite de requêtes par fenêtre de temps (15 minutes)
RATE_LIMIT_MAX_REQUESTS=100

# Fenêtre de temps pour le rate limiting (en millisecondes)
RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# LOGGING ET MONITORING
# =============================================================================
# Niveau de log (debug, info, warn, error)
LOG_LEVEL=info

# URL Sentry pour le monitoring des erreurs (optionnel)
SENTRY_DSN=

# =============================================================================
# REDIS (optionnel, pour le cache et le rate limiting avancé)
# =============================================================================
# URL de connexion Redis
REDIS_URL="redis://your-redis-host:6379"

# Mot de passe Redis (si configuré)
REDIS_PASSWORD=

# Base de données Redis
REDIS_DB=0

# =============================================================================
# NOTIFICATIONS (optionnel)
# =============================================================================
# Webhook URL pour les notifications (Slack, Discord, etc.)
WEBHOOK_URL=

# Email de contact pour les erreurs critiques
ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# PRODUCTION
# =============================================================================
# Activer HTTPS en production
FORCE_HTTPS=true

# Certificat SSL (chemin vers le fichier .crt)
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.crt

# Clé privée SSL (chemin vers le fichier .key)
SSL_KEY_PATH=/etc/ssl/private/yourdomain.key

# =============================================================================
# MÉDIAS ET UPLOADS
# =============================================================================
# Taille maximale des fichiers uploadés (en bytes)
MAX_FILE_SIZE=10485760

# Dossier de stockage des uploads
UPLOAD_DIR=./uploads

# =============================================================================
# BACKUP ET SYNC
# =============================================================================
# Activer la synchronisation automatique avec Medium
AUTO_SYNC_ENABLED=true

# Intervalle de synchronisation (en minutes)
SYNC_INTERVAL_MINUTES=60

# Activer le backup automatique des données
AUTO_BACKUP_ENABLED=true

# Dossier de backup
BACKUP_DIR=./backups 